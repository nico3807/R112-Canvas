<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP Canvas - 3. Effet d'√âcho (Boucle)</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>3. üîä Effet d'√âcho (Boucle et Couleur)</h1>
        <p>
          Nous allons cr√©er l'effet d'√©cho visuel en utilisant une boucle
          '<strong>for</strong>' pour dessiner plusieurs cercles concentriques
          avec une opacit√© d√©gressive.
        </p>
      </header>

      <hr />

      <section id="echo-function-loop">
        <h2>Q4. Fonction '<strong>dessinerEcho</strong>' et Boucle</h2>
        <p>
          Cr√©ez une fonction '<strong
            >dessinerEcho(x, y, maxRayon, nbCercles)</strong
          >'. √Ä l'int√©rieur, calculez d'abord l'√©cart entre chaque rayon, puis
          initialisez une boucle '<strong>for</strong>' qui tournera
          '<strong>nbCercles</strong>' fois.
        </p>

        <ol>
          <li>
            Calculez la valeur de l'espacement constant entre les rayons
            (l'<strong>√©cart</strong>).
          </li>
          <li>Initialisez la boucle 'for' de 0 jusqu'√† 'nbCercles'.</li>
        </ol>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice de syntaxe pour la boucle 'for'
          </button>
          <div class="code-content">
            <p>Comment calculer l'√©cart entre les rayons ?</p>
            <pre>
<code>// Rappel :
let ecart = maxRayon / nbCercles;

// Rappel de la syntaxe de boucle 'for' :
for (let i = 0; i < nombre; i++) {
  // ...
}</code></pre>
          </div>
        </div>
      </section>

      <hr />

      <section id="radius-opacity-calc">
        <h2>Q5. Calcul du Rayon et de l'Opacit√© Progressive</h2>
        <p>√Ä chaque tour de boucle ('i'), vous devez :</p>
        <ul>
          <li>
            Calculer le <strong>rayon actuel</strong> qui doit diminuer √† chaque
            it√©ration. (Pensez √† soustraire le produit de '<strong>i</strong>'
            par l'√©cart).
          </li>
          <li>
            D√©finir l'<strong>opacit√©</strong> progressive
            (<code>ctx.globalAlpha</code>), qui doit aller de 0.0 (transparent,
            pour le grand cercle ext√©rieur) √† 1.0 (opaque, pour le petit cercle
            int√©rieur). (Pensez √† diviser '<strong>i</strong>' par
            '<strong>nbCercles</strong>').
          </li>
          <li>
            Appeler la fonction '<strong>dessinerCercle()</strong>' avec les
            bonnes valeurs.
          </li>
        </ul>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice pour le style et l'appel de fonction
          </button>
          <div class="code-content">
            <p>
              N'oubliez pas d'utiliser <code>ctx.globalAlpha</code> et de le
              r√©initialiser √† '<strong>1</strong>' apr√®s la boucle.
            </p>
            <pre>
<code>// Exemple de calcul de rayon (d√©croissant) :
let rayonActuel = maxRayon - (i * ecart);

// Exemple de propri√©t√© de style √† utiliser avant l'appel :
ctx.globalAlpha = i / nbCercles; 

// Exemple d'appel :
dessinerCercle(x, y, rayonActuel, '#00CCFF');</code></pre>
          </div>
        </div>
      </section>

      <hr />

      <section id="test-echo">
        <h2>Q6. Test de l'√âcho</h2>
        <p>
          Appelez la nouvelle fonction 'dessinerEcho' juste apr√®s sa d√©finition
          pour v√©rifier l'effet. Testez par exemple un rayon maximal de 200
          pixels, centr√© √† (250, 250), avec 8 cercles.
        </p>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice pour le test de la fonction
          </button>
          <div class="code-content">
            <p>
              Testez avec des valeurs simples et v√©rifiez le rendu dans le
              navigateur :
            </p>
            <pre>
<code>// Exemple d'appel :
dessinerEcho(250, 250, 200, 8);</code></pre>
          </div>
        </div>
      </section>

      <hr />

      <div class="menu-buttons">
        <div class="back-to-menu">
          <a href="page_2.html">‚Üê Partie pr√©c√©dente (Dessin Cercle)</a>
        </div>
        <div class="back-to-menu">
          <a href="page_4.html"
            >‚Üí Partie suivante (Interactivit√© et Animation)</a
          >
        </div>
      </div>

      <footer>
        <p style="text-align: center; font-size: 0.9em; color: #666">
          ¬© 2025 ‚Äî BUT MMI B√©ziers - MAURIN N.<br />
          R1.12 D√©veloppement Web
        </p>
      </footer>
    </div>
    <script src="script.js"></script>
  </body>
</html>
