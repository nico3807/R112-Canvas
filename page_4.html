<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP Canvas - 4. Interactivit√© et Animation</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>4. üñ±Ô∏è Interactivit√© et Animation</h1>
        <p>
          Cette partie connecte notre dessin au JavaScript en temps r√©el via un
          curseur HTML et g√®re le rafra√Æchissement pour √©viter les traces.
        </p>
      </header>

      <hr />

      <section id="add-cursor">
        <h2>Ajout du Curseur HTML</h2>
        <p>
          Dans votre 'index.html', ajoutez un √©l√©ment '<strong>&lt;input type="range"&gt;</strong>'
          au-dessus du canvas. Cet √©l√©ment permettra de contr√¥ler
          l'intensit√© (le rayon maximal) de l'√©cho.
        </p>
        <ol>
          <li>Donnez-lui l'identifiant 'vibrationSelector'.</li>
          <li>
            Fixez ses bornes : 'min="0" max="250"' et sa valeur initiale
            'value="50"' (Note: le max a √©t√© ajust√© √† 250 pour coller √† la moiti√© de la dimension du canvas 500x500).
          </li>
          <li>
            Ajoutez l'attribut 'oninput="lancerAnimation()"' pour ex√©cuter une
            fonction JavaScript √† chaque mouvement du curseur.
          </li>
        </ol>
        <div class="code-step">
          <p>Code HTML √† ajouter dans 'index.html' (au-dessus du '<canvas>') :</p>
          <pre>
<code>&lt;label for="vibrationSelector"&gt;Intensit√© / Rayon Maximal (0 √† 250):&lt;/label&gt;
&lt;input type="range" 
       id="vibrationSelector" 
       min="0" 
       max="250" 
       value="50" 
       oninput="lancerAnimation()" /&gt; 
&lt;!-- La balise &lt;canvas&gt; suit ici --&gt;</code></pre>
        </div>
      </section>

      <hr />

      <section id="control-function">
        <h2>La Fonction de Contr√¥le</h2>
        <p>
          D√©finissez la fonction 'lancerAnimation()' dans 'script.js' qui lit
          la valeur du curseur ('intensite') et appelle 'dessinerEcho()'.
        </p>
        <div class="code-step">
          <p>Code JavaScript de la fonction 'lancerAnimation' :</p>
          <pre>
<code>function lancerAnimation() {
  // Lire la valeur actuelle du curseur
  const intensite = document.getElementById('vibrationSelector').value;
  
  // Appeler la fonction de dessin
  dessinerEcho(250, 250, intensite, 8);
}</code></pre>
        </div>
      </section>

      <hr />

      <section id="clear-issue">
        <h2>La Probl√©matique du Nettoyage</h2>
        <p>
          Si vous testez le curseur √† ce stade, vous constaterez que les dessins
          pr√©c√©dents restent affich√©s, cr√©ant une trace. Il faut effacer le canvas
          avant chaque nouveau dessin.
        </p>
        <p>
          Ajoutez l'instruction 'ctx.clearRect()' au tout d√©but de votre
          fonction 'lancerAnimation()'.
        </p>
        <div class="code-step">
          <p>Fonction 'lancerAnimation' avec nettoyage :</p>
          <pre>
<code>function lancerAnimation() {
  // 1. Nettoyer le canvas (efface la zone de dessin)
  ctx.clearRect(0, 0, monCanevas.width, monCanevas.height);

  // 2. Lire la valeur du curseur
  const intensite = document.getElementById('vibrationSelector').value; 
  
  // 3. Dessiner le nouvel √©cho
  dessinerEcho(250, 250, intensite, 8); 
}</code></pre>
        </div>
      </section>

      <hr />

      <div class="menu-buttons">
        <div class="back-to-menu">
          <a href="page_3.html">‚Üê Partie pr√©c√©dente (Effet d'√âcho)</a>
        </div>
        <div class="back-to-menu">
          <a href="page_5.html">‚Üí Partie suivante (Conclusion et Am√©liorations)</a>
        </div>
      </div>

      <footer>
        <p style="text-align: center; font-size: 0.9em; color: #666">
          ¬© 2025 - BUT MMI B√©ziers - MAURIN N.<br />
          R1.12 D√©veloppement Web
        </p>
      </footer>
    </div>
  </body>
</html>