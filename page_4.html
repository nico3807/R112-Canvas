<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP Canvas - 4. Interactivit√© et Animation</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>4. üñ±Ô∏è Interactivit√© et Animation</h1>
        <p>
          Cette partie connecte notre dessin au JavaScript en temps r√©el via un
          curseur HTML et g√®re le rafra√Æchissement pour √©viter les traces.
        </p>
      </header>

      <hr />

      <section id="add-cursor">
        <h2>Q7. Ajout du Curseur HTML</h2>
        <p>
          Dans votre '<strong>index.html</strong>', ajoutez un √©l√©ment '<strong
            >&lt;input type="range"&gt;</strong
          >' au-dessus du canvas. Cet √©l√©ment permettra de contr√¥ler l'intensit√©
          (le rayon maximal) de l'√©cho.
        </p>
        <ol>
          <li>
            Donnez-lui l'identifiant '<strong>vibrationSelector</strong>'.
          </li>
          <li>
            Fixez ses bornes : '<strong>min="0" max="250"</strong>' et sa valeur
            initiale '<strong>value="50"</strong>'.
          </li>
          <li>
            Ajoutez l'attribut '<strong>oninput="lancerAnimation()"</strong>'
            pour ex√©cuter une fonction JavaScript √† chaque mouvement du curseur.
          </li>
        </ol>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice de syntaxe HTML
          </button>
          <div class="code-content">
            <p>
              Rappelez-vous d'inclure le 'label' et la syntaxe compl√®te de
              l'input type="range" :
            </p>
            <pre>
<code>&lt;label for="vibrationSelector"&gt;Intensit√© / Rayon Maximal (0 √† 250):&lt;/label&gt;
&lt;input type="range" 
       id="..." 
       min="..." 
       max="..." 
       value="..." 
       oninput="..." /&gt;</code></pre>
          </div>
        </div>
      </section>

      <hr />

      <section id="control-function">
        <h2>Q8. La Fonction de Contr√¥le</h2>
        <p>
          D√©finissez la fonction '<strong>lancerAnimation()</strong>' dans
          '<strong>script.js</strong>'. √Ä l'int√©rieur, vous devez lire la valeur
          actuelle du curseur et appeler la fonction
          '<strong>dessinerEcho()</strong>' que nous avons cr√©√©e.
        </p>
        <ol>
          <li>
            Lisez la valeur du curseur en utilisant son ID et la propri√©t√©
            '<strong>value</strong>'.
          </li>
          <li>
            Appelez 'dessinerEcho()' avec cette nouvelle valeur comme rayon
            maximal.
          </li>
        </ol>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice pour la lecture et l'appel de fonction
          </button>
          <div class="code-content">
            <p>
              Rappelez-vous comment r√©cup√©rer la valeur d'un √©l√©ment par son ID
              :
            </p>
            <pre>
<code>function lancerAnimation() { 
  const intensite = document.getElementById('vibrationSelector').value; 
  
  // N'oubliez pas le centre (250, 250) et le nombre de cercles (8) :
  dessinerEcho(250, 250, intensite, 8); 
}</code></pre>
          </div>
        </div>
      </section>

      <hr />

      <section id="clear-issue">
        <h2>Q9. La Probl√©matique du Nettoyage</h2>
        <p>
          Si vous testez le curseur √† ce stade, vous verrez que les dessins
          pr√©c√©dents s'accumulent. Pour corriger cela, vous devez effacer tout
          le canvas avant chaque nouveau dessin.
        </p>
        <p>
          Ajoutez l'instruction '<strong>ctx.clearRect()</strong>' au tout d√©but
          de votre fonction '<strong>lancerAnimation()</strong>'.
        </p>
        <ol>
          <li>
            La m√©thode 'clearRect' prend 4 arguments : les coordonn√©es de d√©part
            '(<strong>x, y</strong>)' et les dimensions '(<strong
              >width, height</strong
            >)'.
          </li>
          <li>
            Pour effacer tout le canvas, utilisez '<strong>(0, 0)</strong>' pour
            le coin sup√©rieur gauche et les dimensions totales du canvas.
          </li>
        </ol>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice de syntaxe pour le nettoyage
          </button>
          <div class="code-content">
            <p>
              Comment effacer du coin (0,0) √† la largeur et hauteur maximales du
              canvas :
            </p>
            <pre>
<code>// Effacer le canvas :
ctx.clearRect(0, 0, monCanevas.width, monCanevas.height); 

// Placez cette ligne avant de lire 'intensite'.</code></pre>
          </div>
        </div>
      </section>

      <hr />

      <div class="menu-buttons">
        <div class="back-to-menu">
          <a href="page_3.html">‚Üê Partie pr√©c√©dente (Effet d'√âcho)</a>
        </div>
        <div class="back-to-menu">
          <a href="page_5.html"
            >‚Üí Partie suivante (Conclusion et Am√©liorations)</a
          >
        </div>
      </div>

      <footer>
        <p style="text-align: center; font-size: 0.9em; color: #666">
          ¬© 2025 - BUT MMI B√©ziers - MAURIN N.<br />
          R1.12 D√©veloppement Web
        </p>
      </footer>
    </div>
    <script src="script.js"></script>
  </body>
</html>
