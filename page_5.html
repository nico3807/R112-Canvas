<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP Canvas - 5. Conclusion et Améliorations</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>5. ✨ Conclusion et Améliorations</h1>
        <p>
          Cette dernière partie vise à rendre le code plus robuste et à proposer
          une amélioration esthétique.
        </p>
      </header>

      <hr />

      <section id="dynamic-center">
        <h2>Le Centre Dynamique</h2>
        <p>
          Actuellement, les coordonnées '(250, 250)' sont utilisées pour le
          centre du dessin. Si la taille du canvas change, le dessin ne sera
          plus centré.
        </p>
        <p>
          Modifiez les appels à 'dessinerEcho()' pour utiliser les propriétés
          dynamiques du canvas, garantissant que le dessin reste centré.
        </p>
        <ul>
          <li><strong>Centre X :</strong> 'monCanevas.width / 2'</li>
          <li><strong>Centre Y :</strong> 'monCanevas.height / 2'</li>
        </ul>
        <div class="code-step">
          <p>Fonction 'lancerAnimation' mise à jour :</p>
          <pre>
<code>function lancerAnimation() {
  ctx.clearRect(0, 0, monCanevas.width, monCanevas.height);

  const centreX = monCanevas.width / 2;
  const centreY = monCanevas.height / 2;
  const intensite = document.getElementById('vibrationSelector').value;

  // Utilisation des coordonnées dynamiques (centreX, centreY)
  dessinerEcho(centreX, centreY, intensite, 8); 
}</code></pre>
        </div>
      </section>

      <hr />

      <section id="cleanup-init">
        <h2>Nettoyage et Initialisation</h2>
        <p>
          Pour s'assurer qu'un premier écho s'affiche dès le chargement de la
          page, ajoutez un appel à 'lancerAnimation()' après la définition de
          toutes vos fonctions dans 'script.js'.
        </p>
        <div class="code-step">
          <p>
            Code à ajouter à la <strong>fin</strong> du fichier 'script.js' :
          </p>
          <pre>
<code>// Initialiser le premier dessin au chargement de la page
lancerAnimation();</code></pre>
        </div>
      </section>

      <hr />

      <section id="aesthetic-challenge">
        <h2>Amélioration Esthétique (Défi)</h2>
        <p>
          <strong>Défi :</strong> Modifiez la fonction 'dessinerCercle()' pour
          utiliser non pas un tracé ('ctx.stroke()'), mais un remplissage
          progressif ('ctx.fill()').
        </p>
        <p>
          En utilisant la même logique d'opacité, l'effet devient une "bulle"
          colorée qui s'estompe. Vous devrez également ajuster la propriété
          'ctx.fillStyle' au lieu de 'ctx.strokeStyle'.
        </p>
        <div class="code-step">
          <p>
            Modification de la fonction 'dessinerCercle' pour le remplissage :
          </p>
          <pre>
<code>function dessinerCercle(x, y, rayon, couleur) {
  ctx.beginPath();
  ctx.arc(x, y, rayon, 0, 2 * Math.PI);

  // CHANGEMENT : Remplissage (fill) au lieu du tracé (stroke)
  ctx.fillStyle = couleur; 
  ctx.fill(); // Utilisation de ctx.fill()
}</code></pre>
        </div>
      </section>

      <hr />

      <div class="menu-buttons">
        <div class="back-to-menu">
          <a href="page_4.html">← Partie précédente (Interactivité)</a>
        </div>
        <div class="back-to-menu">
          <a href="index.html">↑ Retour au Menu du TP</a>
        </div>
      </div>

      <footer>
        <p style="text-align: center; font-size: 0.9em; color: #666">
          © 2025 - BUT MMI Béziers - MAURIN N.<br />
          R1.12 Développement Web
        </p>
      </footer>
    </div>
  </body>
</html>
